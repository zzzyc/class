----

title: 操作系统的主要功能

tags: 

​    - 操作系统

----

<!--more-->

## 操作系统的主要功能

1. `处理机管理功能`：

   `进程控制、进程同步、进程通信、调度`

2. `存储器管理功能`：

   `内存分配、内存保护、地址映射、内存扩充`

3. `设备管理功能`：

   `缓冲管理、设备分配、设备处理`

4. `文件管理功能`

   `文件存储空间的管理、目录管理、文件的读/写管理和保护`

5. `操作系统与用户之间的接口`

   `用户接口、程序接口`

6. `现代操作系统的新功能`

   `系统安全、网络的功能和服务、支持多媒体`

   

一、处理机的管理功能：

1. `进程控制`

   `①为每道作业创建进程`

   `②当进程运行结束时，立即撤销该进程。`

   `③为一个进程创建若干个线程，以提高系统的并发性`

   

2. `进程同步`

   目的：为了协调多个进程的运行，系统中必须设置相应的同步机制

   协调方式：

   `①进程互斥方式`：各个进程对临界资源进行访问时，采用互斥方式

   `②进程同步方式`：相互合作完成共同任务的各个进程间，由同步机构对它们的执行次序加以协调。

   实现进程同步最常用的机制是信号量机制。

3. `进程通信`

   目的：实现相互合作进程之间的信息交换

   当相互合作的进程处于同一计算机系统时，通常在它们之间采用直接通信方式。

   直接通信方式：由源进程发送命令直接将消息挂到目标进程的消息队列上，以后由目标进程利用接受命令从其消息队列数中取出消息。

4. 调度`

   `①作业调度`。作业调度的基本任务是从后备队列中按照一定的算法选择出若干个作业，为它们分配所需的资源，将这些作业调入内存后，分别为其建立进程，使其都可能成为获得处理机的就绪进程，并将它们插入就绪队列中。

   `②进程调度`。进程调度的任务就是从进程的就绪队列中按照一定的算法选出一个进程，将处理机分配给它，并未它设置运行现场，使其投入执行。



二、存储器的管理功能：

1. `内存分配`

   `(1)为每道程序分配内存空间。`

   `(2)提高存储器的利用率，尽量减少不可用的内存空间（碎片）`

   `(3)允许正在运行的程序申请附加的内存空间，以适应程序和数据动态增长的需要。`

   OS在实现内存分配时，可采取两种方式：

   (1) `静态分配方式`：每个作业的内存空间是在作业装入时确定的，装入后的整个运行期间内不允许该作业申请新的内存空间，也不允许作业在内存中“移动”。

   (2)`动态分配方式`：每个作业所要求的基本内存空间虽然也是在装入时确定的，但允许作业在运行过程中继续申请新的附加内存空间，以适应程序和数据的动态增长。也允许作业在内存中“移动”。

2. `内存保护`

   `①确保每道用户程序都仅在自己的内存空间内运行，彼此互不干扰。`

   `②绝不允许用户程序访问操作系统的程序和数据，也不允许用户程序转移到非共享的其他用户程序中去执行。`

   为了保护每道程序都只在自己的内存区中运行，必须设置内存保护机制。

3. `地址映射`

   在多道程序环境下，由于每道程序经编译和链接后所形成的可装入程序其地址都是从0开始的，但不可能将它们从“0”的物理地址开始装入内存，致使（各程序段的）地址空间内的逻辑地址和其在内存空间中的物理地址并不相一致。

   为保证程序正确运行，存储器管理必须提供`地址映射功能`。

   `地址映射功能`：将`地址空间中的逻辑地址`转换为`内存空间中与其对应的物理地址`。

   该功能应在硬件的支持下完成。

4. `内存扩充`

   内存扩充是`借助于虚拟存储技术，从逻辑上扩充内存容量`，使用户所感觉到的内存容量比实际内存容量大得多，以便`让更多的用户程序能并发运行`。为了在逻辑上扩充内存，系统必须设置内存扩充机制（包含少量的硬件）

   用于实现包括：
   (1)` 请求调入功能`。系统允许在仅装入部分用户程序和数据的情况下，便能启动该程序运行。

   若在程序运行过程中发现要继续运行时所需的程序和数据尚未装入内存，可向OS发出请求，由OS向磁盘中将所需部分调入内存，以便继续运行。

   (2) `置换功能`。若发现在内存中已无足够的空间来装如需要调入的程序和数据时，系统应能将内存中一部分暂时不用的程序和数据调至硬盘上，以腾出内存空间，然后再将所需调入的部分装入内存。

   

三、设备管理功能：

设备管理的主要任务：

(1) 完成用户进程提出的I/O请求，为用户进程分配所需的I/O设备，并完成指定的I/O操作。

(2) 提高CPU和I/O设备的利用率，提高I/O速度，方便用户使用I/O设备。

1. `缓存管理`

   在I/O设备和CPU之间引入缓冲，有效地缓和CPU和I/O设备速度不匹配的矛盾，提高CPU的利用率，进而提高系统吞吐量。而且还可以通过增加缓冲区容量的方法来改善系统性能。不同系统可采用不同的缓冲区机制。

   最常见的缓冲机制有：`单缓冲机制`、`能实现双向同时传送数据的双缓冲机制`、`能供多个设备同时使用的公用缓冲池机制`。

2. `设备分配`

   基本任务：根据`用户进程的I/O请求`、`系统现有资源情况`以及`按照某种设备分配策略`，为期分配其所需的设备。

   若在I/O设备和CPU之间还存在着设备控制器和I/O通道，则还需为分配除取得设备分配相应的控制器和通道。

   为实现设备分配，系统中应设置`设备控制表`、`控制器控制表`等数据结构，用于记录设备及控制器等的标识符和状态。

   对于独占设备的分配还应考虑该设备被分配出去后系统是否安全。在设备使用完后，应`立即由系统回收`

3. `设备处理`

   `设备处理程序`又称`设备驱动程序`。

   基本任务：实现CPU和设备控制器之间的通信，即`由CPU向设备控制器发出I/O命令，要求它完成指定的I/O操作。`

   反之，`由CPU接受从控制器发来的中断请求，并给予迅速的相应和相应的处理`。

   设备处理过程：

   `①检查I/O请求的合法性`。如：了解设备状态是否是空闲的，读取有关的传递参数及设置设备的而工作方式

   `④向设备控制器发出I/O命令`。如：启动I/O设备完成指定的I/O操作。

   `③设备驱动程序及时响应由控制器发来的中断请求` 。根据该中断请求的类型，调用相应的中断处理程序进行处理。

   此外对于设置了通道的计算机系统，设备处理程序还应能根据用户的I/O请求自动地构成通道程序。



四、文件管理功能：

主要任务：对用户文件和系统文件进行管理以方便用户使用，并保证文件的安全性。

1. `文件存储空间的管理`

   主要任务：`为每个文件分配必要的外存空间`，`提高外存的利用率，进而提高文件系统的存、取速度`。

   为此，系统中还应设置相应的数据结构，用于记录文件存储空间的使用情况，以供分配存储空间时参考。

   还应具有`对存储空间进行分配分配和回收的功能`。

2. `目录管理`

   主要任务：`为每个文件建立一个目录项`，目录项包括文件名、文件属性、文件在磁盘上的物理位置，对众多的目录项加以有效的组织，以实现方便的按名存取。用户只需提供文件名，即可对该文件进行存取。

   目录管理还应能实现`文件共享`，这样只需在外存上保留一份该共享文件的副本。

   此外，还应能`提供快速的目录查询手段`，以提高文件检索的速度。

3. `文件的读/写管理和保护`

   (1) `文件的读写管理`。 根据用户的请求，从外存中读取数据，或将数据写入外存。

   在进行文件读/写时，系统先根据用户给出的文件名区检索文件目录，从中获得文件在外存中的位置。

   然后，利用文件读/写指针，对文件进行读/写。读/写完成后便修改读/写指针，为下次读/写做好准备。

   读/写操作不会同时进行，故可合用一个读/写指针。

   (2)`文件保护` 。为了防止系统中的文件被非法窃取和破坏，在文件系统中必须提供有效的存取控制功能。

   以实现：

   `①防止未经核准的用户存取文件`

   `②防止冒名顶替存取文件`

   `③防止以不正确的方式使用文件`



五、操作系统与用户之间的接口

1. `用户接口`。为了便于用户直接或间接控制自己的作业，操作系统向用户提高了命令接口。

   用户可通过该接口向作业发出命令以控制作业的运行。用户接口分为：

   `①联机用户接口`。 由一组键盘操作命令及命令解释程序组成

   `②脱机（批处理用户接口）`
   `③图形接口` 如$Windows$用户可用鼠标或通过菜单完成相应的操作。

2. `程序接口`。为用户程序在执行中访问系统资源而设置的，是用户程序取得操作系统服务的唯一途径。

   `系统调用`和`库函数`。



六、现代操作系统的新功能

1. `系统安全`：认证教学、密码技术、访问控制技术、反病毒技术
2. `网络功能服务`：网络通信、资源管理、应用互操作。
3. 支持多媒体：接纳控制新功能、实时调度、多媒体文件的存储